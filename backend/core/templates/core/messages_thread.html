{% extends "core/base.html" %}
{% load static %}


{% block extra_css %}
  <link rel="stylesheet" href="{% static 'core/css/pages/messages/messages.css' %}?v=1">
{% endblock %}

{% block title %}{% if chat_title %}{{ chat_title }}{% elif chat.title %}{{ chat.title }}{% else %}Чат{% endif %} — Germify{% endblock %}

{% block content %}
<div class="row g-3 messages-layout">

    <div class="col-12 col-lg-4">
        <div class="card messages-sidebar-card d-flex flex-column">
            <div class="card-header bg-white d-flex align-items-center justify-content-between">
                <span class="fw-semibold">Сообщения</span>
                <a href="{% url 'messages_group_create' %}" class="btn btn-sm btn-outline-primary" style="padding: 2px 10px; border-radius: 999px; line-height: 1;">+ Группа</a>
            </div>

            <div class="p-2">
                <input type="text"
                       class="form-control form-control-sm"
                       placeholder="Поиск по диалогам…"
                       id="dialogs-search">
            </div>

            <div class="flex-grow-1 overflow-auto"
                 id="dialogs-wrapper"
                 data-poll-url="{% url 'messages_inbox_poll' %}">
                {% include "core/partials/messages_inbox_list.html" with threads=threads %}
            </div>
        </div>
    </div>

    <div class="col-12 col-lg-8">
        {% include "core/partials/messages_thread_chat.html" %}
    </div>

</div>
{% endblock %}
